<!DOCTYPE html>
<html en='en' ng-app='dgalarza'>
  <head>
    <meta charset='UTF-8'>
    <meta content='width=device-width' name='viewport'>
    <title>
      Changing Git Remotes and Capistrano |
      Damian Galarza
    </title>
    <link href="/stylesheets/application-00234ca8.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
    <script type="text/javascript" src="http://use.typekit.com/hyh0moi.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
  </head>
  <body class='posts posts_ruby posts_ruby_Changing-Git-Remotes-And-Capistrano posts_ruby_Changing-Git-Remotes-And-Capistrano_index'>
    <div id='page'>
      <header id='site-header'>
        <div class='main-head wrapper'>
          <h1><a href="/">Damian Galarza</a></h1>
          <ul class='hide-phone social' role='menu'>
            <li><a class="social-twitter" target="_blank" href="http://www.twitter.com/dgalarza">Twitter</a></li>
            <li><a class="social-github" target="_blank" href="http://www.github.com/dgalarza">Github</a></li>
          </ul>
        </div>
        <nav class='wrapper' id='site-nav'>
          <ul role='wrapper'>
            <li><a id="blog" href="/posts">Blog</a></li>
            <li><a id="about" href="/about">About</a></li>
          </ul>
        </nav>
      </header>
      <div class='wrapper' id='page-wrapper'>
        <section class='site-content'>
          <article id='post'>
            <div class='article-share-tools hide-phone'>
              <div class='share-tool'>
                <div class='share-option' id='facebook-article-share'></div>
                <div class='share-container'>
                  <div class='fb-like' data-href='/posts/ruby/Changing-Git-Remotes-And-Capistrano/' data-layout='button_count' data-width='90'></div>
                </div>
              </div>
              <div class='share-tool'>
                <div class='share-option' id='twitter-article-share'></div>
                <div class='share-container'>
                  <a href="https://twitter.com/share" class="twitter-share-button" data-via="dgalarza">Tweet</a>
                  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                </div>
              </div>
            </div>
            <header>
              <div class='publish-meta'>
                <time pubdate='2013-10-18 00:00:00 UTC'>October 18, 2013</time>
                <p class='post-category'>
                  &ndash;
                  <a class="alt-anchor" href="/posts/categories/ruby/">Ruby</a>
                </p>
              </div>
              <h2><a href="/posts/ruby/Changing-Git-Remotes-And-Capistrano/">Changing Git Remotes and Capistrano</a></h2>
              <p class='post-tags'>
                <a href="/posts/tags/capistrano/">capistrano</a>
                |
                <a href="/posts/tags/git/">git</a>
              </p>
            </header>
            <p>I&#39;ve started to move some of my less frequently updated private projects over to <a href="https://bitbucket.org/">Bitbucket</a> in order to take advantage of their free private repositories.
            Making this move has been quite simple with their repository importer, allowing you to import projects right from other services like Github. </p>
            
            <p>Recently however I ran into an issue when trying to deploy my project with capistrano. It turns out that just changing your repository URL in the config.rb is not enough when you are deploying via remote cache (<code>set :deploy_via, :remote_cache</code>).
            Capistrano has a copy of your project cloned out on the server your deploying to in order to speed up deploys instead of transferring the content from your machine to the server. Changing
            the remote in my deploy configuration did not propogate the change to the cached-copy of the repo on the server. Simply ssh&#39;ing onto the server and removing the cached-copy and then redeploying resolved the issue.
            The newly generated cached-copy had my updated remote.</p>
            
            <p>The cached copy can be found at <code>shared/cached-copy</code>. Be sure to remove the entire cached-copy directory and not just it&#39;s contents.</p>
          </article>
        </section>
      </div>
      <footer>
        <div class='wrapper'>
          <ul>
            <li class='first'><a class="alt-anchor" href="http://www.damiangalarza.com">Damian Galarza</a></li>
            <li>damian[at]damiangalarza.com</li>
            <li class='last'>
              Follow me on:
              <a target="_blank" class="alt-anchor" href="http://www.facebook.com/dgalarza">Facebook</a>
              ,
              <a target="_blank" class="alt-anchor" href="http://www.twitter.com/dgalarza">Twitter</a>
              ,
              <a target="_blank" class="alt-anchor" href="http://www.github.com/dgalarza">Github</a>
            </li>
          </ul>
          <p class='hide-phone design-label'>Design by: <a class="alt-anchor" href="http://www.eringalarza.com" target="_blank">Erin Galarza</a></p>
        </div>
      </footer>
      <script src='//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
      <script src="/javascripts/application-7738846d.js" type="text/javascript"></script>
      
    </div>
    <script>$('.fb-like').attr('data-href', window.location.href)</script>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=527200053984565";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28839416-1']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
    
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
